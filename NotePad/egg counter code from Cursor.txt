<div style="max-width: 800px; margin: 20px auto; padding: 20px; font-family: sans-serif;">
    <h1 style="text-align: center; margin-bottom: 20px;">Egg Count Calculator</h1>

    <div id="inputArea" style="margin-bottom: 20px; padding: 15px; background: #f5f5f5; border-radius: 5px; display: flex; align-items: center; gap: 20px;">
        <div class="input-group" style="display: flex; align-items: center; gap: 10px;">
            <label for="ageInput" style="font-weight: bold;">Enter Your Age (Years):</label>
            <input type="number" id="ageInput" min="18" max="55" placeholder="Enter age" style="padding: 8px; font-size: 16px; width: 100px;">
            <button id="calculateButton" style="padding: 8px 15px; font-size: 16px; border: none; border-radius: 4px; cursor: pointer; background: #4CAF50; color: white;">Calculate</button>
            <button id="resetButton" style="padding: 8px 15px; font-size: 16px; border: none; border-radius: 4px; cursor: pointer; background: #f44336; color: white;">Reset</button>
        </div>
    </div>

    <div class="outputArea" style="font-weight: bold; font-size: 18px; margin: 20px 0; padding: 10px; background: #e8f5e9; border-radius: 5px; display: flex; flex-direction: column; align-items: flex-start; gap: 10px;">
        <div class="age-content" style="width: 100%;">
            <div class="age-label" style="color: #666; font-size: 0.9em; margin-bottom: 5px;">Age + 5 Years:</div>
            <div class="age-calculation" id="futureAge" style="font-size: 0.9em; color: #666; margin-top: 5px;"></div>
            <div>Approximate Egg Range: <span id="eggRangeOutputPlus5"></span></div>
            <div class="percentage-info" id="futurePercentage" style="font-size: 0.9em; color: #666; background: white; padding: 5px 10px; border-radius: 4px; margin-top: 5px;"></div>
        </div>
    </div>

    <div id="currentAgeOutput" class="outputArea" style="background: #bbdefb; border: 2px solid #2196f3;">
        <div class="age-content" style="width: 100%;">
            <div class="age-label" style="color: #666; font-size: 0.9em; margin-bottom: 5px;">Current Age:</div>
            <div>Approximate Egg Range: <span id="eggRangeOutput"></span></div>
            <div class="percentage-info" id="pastPercentage" style="font-size: 0.9em; color: #666; background: white; padding: 5px 10px; border-radius: 4px; margin-top: 5px;"></div>
        </div>
    </div>

    <div class="outputArea" style="font-weight: bold; font-size: 18px; margin: 20px 0; padding: 10px; background: #e8f5e9; border-radius: 5px; display: flex; flex-direction: column; align-items: flex-start; gap: 10px;">
        <div class="age-content" style="width: 100%;">
            <div class="age-label" style="color: #666; font-size: 0.9em; margin-bottom: 5px;">Age - 5 Years:</div>
            <div class="age-calculation" id="pastAge" style="font-size: 0.9em; color: #666; margin-top: 5px;"></div>
            <div>Approximate Egg Range: <span id="eggRangeOutputMinus5"></span></div>
        </div>
    </div>

    <div id="disclaimer" style="font-size: 0.8em; color: gray; margin-top: 30px;">
        <p>These are age-based averages only. This calculator does not provide medical advice. Consult a healthcare professional for personalized information. This data is for educational purposes only.</p>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const eggData = [
            { age: 18, range: "300,000 - 400,000" },
            { age: 19, range: "290,000 - 390,000" },
            { age: 20, range: "280,000 - 380,000" },
            { age: 21, range: "270,000 - 370,000" },
            { age: 22, range: "260,000 - 360,000" },
            { age: 23, range: "250,000 - 350,000" },
            { age: 24, range: "240,000 - 340,000" },
            { age: 25, range: "230,000 - 330,000" },
            { age: 26, range: "220,000 - 320,000" },
            { age: 27, range: "210,000 - 310,000" },
            { age: 28, range: "200,000 - 300,000" },
            { age: 29, range: "190,000 - 290,000" },
            { age: 30, range: "180,000 - 280,000" },
            { age: 31, range: "170,000 - 270,000" },
            { age: 32, range: "160,000 - 260,000" },
            { age: 33, range: "150,000 - 250,000" },
            { age: 34, range: "140,000 - 240,000" },
            { age: 35, range: "130,000 - 230,000" },
            { age: 36, range: "120,000 - 220,000" },
            { age: 37, range: "110,000 - 210,000" },
            { age: 38, range: "100,000 - 200,000" },
            { age: 39, range: "90,000 - 190,000" },
            { age: 40, range: "80,000 - 180,000" },
            { age: 41, range: "70,000 - 170,000" },
            { age: 42, range: "60,000 - 160,000" },
            { age: 43, range: "50,000 - 150,000" },
            { age: 44, range: "40,000 - 140,000" },
            { age: 45, range: "30,000 - 130,000" },
            { age: 46, range: "20,000 - 120,000" },
            { age: 47, range: "10,000 - 110,000" },
            { age: 48, range: "5,000 - 100,000" },
            { age: 49, range: "1,000 - 90,000" },
            { age: 50, range: "500 - 80,000" },
            { age: 51, range: "100 - 70,000" },
            { age: 52, range: "50 - 60,000" },
            { age: 53, range: "10 - 50,000" },
            { age: 54, range: "1 - 40,000" },
            { age: 55, range: "0 - 30,000" }
        ];

        function formatNumber(num) {
            return num.toLocaleString();
        }

        function calculateAllRanges() {
            const ageInput = document.getElementById('ageInput');
            const age = parseInt(ageInput.value);

            if (isNaN(age) || age < 18 || age > 55) {
                alert('Please enter a valid age between 18 and 55');
                return;
            }

            const currentAgeData = eggData.find(data => data.age === age);
            
            // Handle edge cases for past and future ages
            let pastAgeData = null;
            let futureAgeData = null;
            
            if (age - 5 >= 18) {
                pastAgeData = eggData.find(data => data.age === age - 5);
            }
            
            if (age + 5 <= 55) {
                futureAgeData = eggData.find(data => data.age === age + 5);
            }

            if (currentAgeData) {
                // Always show current age data
                document.getElementById('eggRangeOutput').textContent = currentAgeData.range;
                
                // Handle past age (if available)
                if (pastAgeData) {
                    document.getElementById('eggRangeOutputMinus5').textContent = pastAgeData.range;
                    document.getElementById('pastAge').textContent = `You were ${age - 5} years old`;
                    
                    const currentAvg = (parseInt(currentAgeData.range.split(' - ')[0].replace(/,/g, '')) + 
                                      parseInt(currentAgeData.range.split(' - ')[1].replace(/,/g, ''))) / 2;
                    const pastAvg = (parseInt(pastAgeData.range.split(' - ')[0].replace(/,/g, '')) + 
                                   parseInt(pastAgeData.range.split(' - ')[1].replace(/,/g, ''))) / 2;
                    
                    const pastDecrease = ((pastAvg - currentAvg) / pastAvg * 100).toFixed(1);
                    const pastEggsDecreased = formatNumber(Math.round(pastAvg - currentAvg));
                    document.getElementById('pastPercentage').textContent = `Decreased by ${pastDecrease}% (${pastEggsDecreased} eggs) from 5 years ago`;
                } else {
                    document.getElementById('eggRangeOutputMinus5').textContent = "Data not available";
                    document.getElementById('pastAge').textContent = `You were ${age - 5} years old`;
                    document.getElementById('pastPercentage').textContent = "";
                }
                
                // Handle future age (if available)
                if (futureAgeData) {
                    document.getElementById('eggRangeOutputPlus5').textContent = futureAgeData.range;
                    document.getElementById('futureAge').textContent = `You will be ${age + 5} years old`;
                    
                    const currentAvg = (parseInt(currentAgeData.range.split(' - ')[0].replace(/,/g, '')) + 
                                      parseInt(currentAgeData.range.split(' - ')[1].replace(/,/g, ''))) / 2;
                    const futureAvg = (parseInt(futureAgeData.range.split(' - ')[0].replace(/,/g, '')) + 
                                     parseInt(futureAgeData.range.split(' - ')[1].replace(/,/g, ''))) / 2;
                    
                    const futureDecrease = ((currentAvg - futureAvg) / currentAvg * 100).toFixed(1);
                    const futureEggsDecreased = formatNumber(Math.round(currentAvg - futureAvg));
                    document.getElementById('futurePercentage').textContent = `Projected to decrease by ${futureDecrease}% (${futureEggsDecreased} eggs) in 5 years`;
                } else {
                    document.getElementById('eggRangeOutputPlus5').textContent = "Data not available";
                    document.getElementById('futureAge').textContent = `You will be ${age + 5} years old`;
                    document.getElementById('futurePercentage').textContent = "";
                }
            }
        }

        document.getElementById('calculateButton').addEventListener('click', calculateAllRanges);
        document.getElementById('resetButton').addEventListener('click', function() {
            document.getElementById('ageInput').value = '';
            document.getElementById('eggRangeOutput').textContent = '';
            document.getElementById('eggRangeOutputMinus5').textContent = '';
            document.getElementById('eggRangeOutputPlus5').textContent = '';
            document.getElementById('pastAge').textContent = '';
            document.getElementById('futureAge').textContent = '';
            document.getElementById('pastPercentage').textContent = '';
            document.getElementById('futurePercentage').textContent = '';
        });
    });
</script>